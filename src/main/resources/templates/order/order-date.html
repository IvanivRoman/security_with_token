<!--<!DOCTYPE HTML>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="utf-8">-->
<!--    <title>Записатись онлайн</title>-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">-->
<!--    <link rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.min.css">-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--<header th:insert="~{blocks/header :: header}"></header>-->
<!--<div class="container">-->
<!--    <h1 class="text-center">Вільні записи</h1>-->
<!--    <form th:action="@{/barber-shop/date/__${barber.id}__}" method="post">-->
<!--        <label for="date">Виберіть дату:</label>-->
<!--        <input id="date" type="date" name="date" class="form-control" /><br />-->

<!--        <div class="form-group">-->
<!--            <label for="time">Виберіть час:</label>-->
<!--            <select id="time" name="time" class="form-control">-->
<!--                <option th:each="entry : ${availableRecords}" th:value="${entry.value}" th:text="${entry.key}">-->
<!--                    &lt;!&ndash; Iterate over each time for the current date &ndash;&gt;-->
<!--                <optgroup th:each="time : ${entry.value}" th:label="${time}">-->
<!--                    <option th:value="${time}" th:text="${time}"></option>-->
<!--                </optgroup>-->
<!--                </option>-->
<!--            </select>-->
<!--        </div>-->

<!--        <div class="row mt-4">-->
<!--            <div class="col text-end">-->
<!--                <a href="/barber-shop/order" class="btn btn-secondary me-2">Назад</a>-->
<!--                <button type="submit" class="btn btn-primary">Далі</button>-->
<!--            </div>-->
<!--        </div>-->
<!--    </form>-->
<!--</div>-->

<!--<script>-->
<!--    // Set the minimum and maximum dates for the date input-->
<!--    var today = new Date();-->
<!--    var twoWeeksFromNow = new Date();-->
<!--    twoWeeksFromNow.setDate(today.getDate() + 14);-->
<!--    var minDate = today.toISOString().substr(0, 10);-->
<!--    var maxDate = twoWeeksFromNow.toISOString().substr(0, 10);-->
<!--    document.getElementById("date").setAttribute("min", minDate);-->
<!--    document.getElementById("date").setAttribute("max", maxDate);-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Записатись онлайн</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
<header th:insert="~{blocks/header :: header}"></header>
<div class="container">
    <h1 class="text-center">Вільні записи</h1>
    <form th:action="@{/barber-shop/p/date/__${barber.id}__}" method="post">

        <label for="date">Виберіть дату:</label>
        <input id="date" type="date" name="date" class="form-control"/><br/>

<!--                <label for="date">Select a date:</label>-->
<!--                <input type="date" id="date" name="date" />-->

        <!--        &lt;!&ndash; HTML code for the time select &ndash;&gt;-->
        <select name="time">
            <th:block th:each="entry : ${availableRecords}">
                <optgroup th:label="${entry.key}">
                    <th:block th:each="time : ${entry.value}">
                        <option th:value="${time}" th:text="${time}"></option>
                    </th:block>
                </optgroup>
            </th:block>
        </select>


        <div class="row mt-4">
            <div class="col text-end">
                <a href="/barber-shop/order" class="btn btn-secondary me-2">Назад</a>
                <button type="submit" class="btn btn-primary">Далі</button>
            </div>
        </div>

        <!--        <div th:each="entry : ${availableRecords}">-->
        <!--            <h2 th:text="${entry.key}"></h2>-->
        <!--            <ul>-->
        <!--                <li th:each="time : ${entry.value}" th:text="${time}"></li>-->
        <!--            </ul>-->
        <!--        </div>-->


    </form>
</div>

<script>
    // Set the minimum and maximum dates for the date input
    var today = new Date();
    var twoWeeksFromNow = new Date();
    twoWeeksFromNow.setDate(today.getDate() + 14);
    var minDate = today.toISOString().substr(0, 10);
    var maxDate = twoWeeksFromNow.toISOString().substr(0, 10);
    document.getElementById("date").setAttribute("min", minDate);
    document.getElementById("date").setAttribute("max", maxDate);


    // var values = Array.from(document.querySelectorAll('select[name="time"] > optgroup')).map(el => el.getAttribute('value'));
    // var values = Array.from(document.querySelectorAll('select[name="time"] > optgroup')).map(el => el.getAttribute('label'));
    //
    // console.log(values);
</script>
<!--<script th:inline="javascript">-->
<!--    function selectDateTime(selectedTime, selectedDate) {-->
<!--        console.log("Selected time:", selectedTime);-->
<!--        console.log("Selected date:", selectedDate);-->
<!--    }-->
<!--</script>-->

</body>
</html>

